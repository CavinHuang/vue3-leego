(function(e){function t(t){for(var o,a,i=t[0],u=t[1],l=t[2],s=0,d=[];s<i.length;s++)a=i[s],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&d.push(c[a][0]),c[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);f&&f(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var i=n[a];0!==c[i]&&(o=!1)}o&&(r.splice(t--,1),e=u(u.s=n[0]))}return e}var o={},a={app:0},c={app:0},r=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-055d3180":"23860d13","chunk-3c692bd5":"b59a4707","chunk-4aacdc51":"c1056397","chunk-57ac58ae":"25b4b945","chunk-5cd3882a":"b119409a","chunk-60f80f20":"ba171820","chunk-704d913e":"f4b28ebb","chunk-2d21f85e":"75d2ebeb","chunk-743ef222":"c069b7d2","chunk-74992c29":"ded2c043","chunk-75a19514":"67536f4a","chunk-774baf7c":"d368a93f","chunk-7ce9a4ac":"771fa7ef","chunk-b64650fe":"3fb38e27","chunk-cb67947a":"e29f21e0","chunk-d37b2238":"ed4a14a3"}[e]+".js"}function u(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-055d3180":1,"chunk-3c692bd5":1,"chunk-4aacdc51":1,"chunk-57ac58ae":1,"chunk-5cd3882a":1,"chunk-60f80f20":1,"chunk-704d913e":1,"chunk-743ef222":1,"chunk-74992c29":1,"chunk-75a19514":1,"chunk-774baf7c":1,"chunk-7ce9a4ac":1,"chunk-b64650fe":1,"chunk-cb67947a":1,"chunk-d37b2238":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-055d3180":"2e75f377","chunk-3c692bd5":"564ac322","chunk-4aacdc51":"a1b2fbf2","chunk-57ac58ae":"564ac322","chunk-5cd3882a":"564ac322","chunk-60f80f20":"564ac322","chunk-704d913e":"75d4b377","chunk-2d21f85e":"31d6cfe0","chunk-743ef222":"75d4b377","chunk-74992c29":"564ac322","chunk-75a19514":"be315535","chunk-774baf7c":"be315535","chunk-7ce9a4ac":"564ac322","chunk-b64650fe":"dded43a0","chunk-cb67947a":"8a80ccb7","chunk-d37b2238":"75d4b377"}[e]+".css",c=u.p+o,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var l=r[i],s=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(s===o||s===c))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],s=l.getAttribute("data-href");if(s===o||s===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||c,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete a[e],f.parentNode.removeChild(f),n(r)},f.href=c;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var o=c[e];if(0!==o)if(o)t.push(o[2]);else{var r=new Promise((function(t,n){o=c[e]=[t,n]}));t.push(o[2]=r);var l,s=document.createElement("script");s.charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.src=i(e);var d=new Error;l=function(t){s.onerror=s.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}c[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:s})}),12e4);s.onerror=s.onload=l,document.head.appendChild(s)}return Promise.all(t)},u.m=e,u.c=o,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)u.d(n,o,function(t){return e[t]}.bind(null,o));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0613":function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return k}));n("a4d3"),n("e01a"),n("d3b7");var o=n("5502"),a=(n("a434"),n("159b"),{namespaced:!1,state:{canvasStyleData:{width:375,height:649,scale:100},componentData:[],curComponent:null,curComponentIndex:-1,isClickComponent:!1,editor:null,editMode:"edit",prevCurComponentsStyle:{},areaData:{style:{top:0,left:0,width:0,height:0},components:[]}},mutations:{GET_EDITOR:function(e){e.editor=document.querySelector("#editor")},SET_CANVAS_STYLE_DATA:function(e,t){var n=e.canvasStyleData;Object.assign(n,t)},SET_COMPONENT_DATA:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.componentData=t},ADD_COMPONENTS:function(e,t){var n=e.componentData,o=t.component,a=t.index;void 0===a?n.splice(a,0,o):n.push(o)},DELETE_COMPONENT:function(e,t){void 0===t&&(t=e.curComponentIndex),t===e.curComponentIndex&&(e.curComponentIndex=-1,e.curComponent=null),e.componentData.splice(t,1)},BATCH_DELTE_COMPONENT:function(e,t){var n=e.componentData;t.forEach((function(e){for(var t=0,o=n.length;t<o;t++)if(e.id===n[t].id){n.splice(t,1);break}}))},SET_CLICK_COMPONENT_STATUS:function(e,t){e.isClickComponent=t},SET_CUR_COMPONENT:function(e,t){var n=t.component,o=t.index;e.curComponent=n,e.curComponentIndex=o},SET_EDIT_MODE:function(e,t){e.editMode=t},SET_SHAPE_STYLE:function(e,t){var n=e.curComponent,o=t.top,a=t.left,c=t.width,r=t.height,i=t.rotate;n&&(o&&(n.style.top=o),a&&(n.style.left=a),c&&(n.style.width=c),r&&(n.style.height=r),i&&(n.style.rotate=i))},SET_CUR_COMPONENT_STYLE:function(e,t){var n=e.componentData,o=e.curComponentIndex;n[o].style=t},SET_SHAPE_SINGLE_STYLE:function(e,t){var n=e.curComponent;if(n){var o=t.key,a=t.value;n.style[o]&&(n.style[o]=a)}},SET_AREA_DATA:function(e,t){e.areaData=t}},actions:{setCanvasStyleData:function(e,t){var n=e.commit;n("SET_CANVAS_STYLE_DATA",t)},addComponent:function(e,t){var n=e.commit,o=t.component,a=t.index;n("ADD_COMPONENTS",{component:o,index:a})},setComponentData:function(e,t){var n=e.commit;n("SET_COMPONENT_DATA",t)},deleteComponent:function(e,t){var n=e.commit;n("DELETE_COMPONENT",t)},batchDeleteComponent:function(e,t){var n=e.commit;n("BATCH_DELTE_COMPONENT",t)},setClickComponentStatus:function(e,t){var n=e.commit;n("SET_CLICK_COMPONENT_STATUS",t)},setCurComponent:function(e,t){var n=e.commit,o=t.component,a=t.index;n("SET_CUR_COMPONENT",{component:o,index:a})},getEditor:function(e){var t=e.commit;t("GET_EDITOR")},setEditMode:function(e,t){var n=e.commit;n("SET_EDIT_MODE",t)},setShapeStyle:function(e,t){var n=e.commit,o=t.top,a=t.left,c=t.width,r=t.height,i=t.rotate;n("SET_SHAPE_STYLE",{top:o,left:a,width:c,height:r,rotate:i})},setCusComponentStyle:function(e,t){var n=e.commit;n("SET_CUR_COMPONENT_STYLE",t)},setShapeSingleStyle:function(e,t){var n=e.commit,o=t.key,a=t.value;n("SET_SHAPE_SINGLE_STYLE",{key:o,value:a})},setAreaData:function(e,t){var n=e.commit;n("SET_AREA_DATA",t)},updateCurComponent:function(e,t){var n=e.state;n.curComponent=Object.assign(n.curComponent,t)}}}),c=a,r=(n("fb6a"),n("d257")),i={namespaced:!1,state:{snapshotData:[],snapshotIndex:-1},mutations:{RECORD_SNAPSHOT:function(e,t){e.snapshotData[++e.snapshotIndex]=Object(r["b"])(t),e.snapshotIndex<e.snapshotData.length-1&&(e.snapshotData=e.snapshotData.slice(0,e.snapshotIndex+1))}},actions:{recordSnapshot:function(e){var t=e.commit,n=e.rootState;t("RECORD_SNAPSHOT",n.canvas.componentData)}}},u=i,l={namespaced:!1,state:{menuTop:0,menuLeft:0,menuShow:!1},mutations:{SHOW_CONTEXT_MENU:function(e,t){var n=t.top,o=t.left;e.menuShow=!0,e.menuTop=n,e.menuLeft=o},HIDE_CONTEXT_MENU:function(e){e.menuShow=!1}},actions:{showContextMenu:function(e,t){var n=e.commit,o=t.top,a=t.left;n("SHOW_CONTEXT_MENU",{top:o,left:a})},hideContextMenu:function(e){var t=e.commit;t("HIDE_CONTEXT_MENU")}}},s=l,d=n("2909"),f=n("5530"),p=(n("c4bc"),n("6573")),b=n.n(p),h=n("9746"),v=(n("25f0"),n("ecde"));function m(e,t,n){var o="#component".concat(e.id),a=Object(r["a"])(o);if(a){var c=a.getBoundingClientRect(),i={x:c.left-t.left+c.width/2,y:c.top-t.top+c.height/2},u=e.groupStyle.width?e.groupStyle.width:0,l=e.groupStyle.height?e.groupStyle.height:0;e.style.rotate=Object(v["e"])(e.style.rotate+n.rotate),e.style.width=parseFloat(u.toString())/100*n.width,e.style.height=parseFloat(l.toString())/100*n.height,e.style.left=i.x-e.style.width/2,e.style.top=i.y-e.style.height/2,e.groupStyle={}}}var O=n("9c20"),j=n("1f2a"),y={namespaced:!1,state:{copyData:null,isCut:!1},mutations:{COPY:function(e,t){var n=t.curComponent,o=t.curComponentIndex;n&&(e.copyData={data:Object(r["b"])(n),index:o},e.isCut=!1,b.a.success("复制成功"))},CUT:function(e){e.isCut=!0},UP_COMPONENT:function(e,t){var n=t.componentData,o=t.curComponentIndex;o<n.length-1?Object(r["c"])(n,o,o+1):b()("已经到顶了")},DOWN_COMPONENT:function(e,t){var n=t.componentData,o=t.curComponentIndex;o>0?Object(r["c"])(n,o,o-1):b()("已经到底了")},TOP_COMPONENT:function(e,t){var n=t.componentData,o=t.curComponentIndex;o<n.length-1?Object(r["c"])(n,o,n.length-1):b()("已经到顶了")},BOTTOM_COMPONENT:function(e,t){var n=t.componentData,o=t.curComponentIndex;o>0?Object(r["c"])(n,o,0):b()("已经到底了")}},actions:{copy:function(e){var t=e.commit,n=e.rootState;t("COPY",{curComponent:n.canvas.curComponent,curComponentIndex:n.canvas.curComponentIndex})},paste:function(e,t){var n=e.state,o=e.rootState,a=e.dispatch,c=o.contextMenu,i=c.menuTop,u=c.menuLeft;if(n.copyData){var l=n.copyData.data;t?(l.style.top=i,l.style.left=u):(l.style.top+=10,l.style.left+=10),l.id=Object(h["a"])(),a("canvas/addComponent",{component:Object(r["b"])(l)},{root:!0}),n.isCut&&(n.copyData=null)}else b()("请选择组件")},cut:function(e){var t=e.commit,n=e.state,o=e.rootState,a=e.dispatch,c=o.canvas.curComponent;if(c){if(n.copyData){var i=Object(r["b"])(n.copyData.data),u=n.copyData.index;i.id=Object(h["a"])(),a("canvas/addComponent",{component:i,index:u},{root:!0}),o.canvas.curComponentIndex>=u&&o.canvas.curComponentIndex++}a("copy"),a("canvas/deleteComponent",null,{root:!0}),t("CUT")}else b()("请选择组件")},lock:function(e){var t=e.rootState;t.canvas.curComponent&&(t.canvas.curComponent.isLock=!0)},unlock:function(e){var t=e.rootState;t.canvas.curComponent&&(t.canvas.curComponent.isLock=!1)},hideContextMenu:function(e){var t=e.commit;t("HIDE_CONTEXT_MENU")},upComponent:function(e){var t=e.commit,n=e.rootState;t("UP_COMPONENT",n.canvas)},downComponent:function(e){var t=e.commit,n=e.rootState;t("DOWN_COMPONENT",n.canvas)},topComponent:function(e){var t=e.commit,n=e.rootState;t("TOP_COMPONENT",n.canvas)},bottomComponent:function(e){var t=e.commit,n=e.rootState;t("BOTTOM_COMPONENT",n.canvas)},undo:function(e){var t=e.rootState,n=e.dispatch;t.snapshot.snapshotIndex>=0&&(t.snapshot.snapshotIndex--,n("canvas/setComponentData",Object(r["b"])(t.snapshot.snapshotData[t.snapshot.snapshotIndex]),{root:!0}))},redo:function(e){var t=e.rootState,n=e.dispatch;t.snapshot.snapshotIndex<t.snapshot.snapshotData.length-1&&(t.snapshot.snapshotIndex++,n("canvas/setComponentData",Object(r["b"])(t.snapshot.snapshotData[t.snapshot.snapshotIndex]),{root:!0}))},compose:function(e){var t=e.rootState,n=e.dispatch,o=t.canvas,a=o.areaData,c=o.editor,r=o.componentData,i=[];a.components.forEach((function(e){if("Group"!==e.component)i.push(e);else{var t=Object(f["a"])({},e.style),o=e.propValue;if(c){var a=c.getBoundingClientRect();n("/canvas/deleteComponent",null,{root:!0}),o.forEach((function(e){m(e,a,t),n("canvas/addComponent",{component:e},{root:!0})})),i.push.apply(i,Object(d["a"])(o)),n("canvas/batchDeleteComponent",o,{root:!0})}}}));var u=Object(h["a"])();n("canvas/addComponent",{component:Object(f["a"])(Object(f["a"])({},O["commonAttr"]),{},{component:"Group",id:u,style:Object(f["a"])(Object(f["a"])({},O["commonStyle"]),a.style),propValue:i})},{root:!0}),j["a"].$emit("hideArea",!0),n("canvas/batchDeleteComponent",a.components,{root:!0}),n("canvas/setCurComponent",{component:r[r.length-1],index:r.length-1},{root:!0}),a.components=[]},decompose:function(e){var t=e.rootState,n=e.dispatch,o=t.canvas,a=o.curComponent,c=o.editor;if(a&&c){var r=Object(f["a"])({},a.style),i=a.propValue,u=c.getBoundingClientRect();n("canvas/deleteComponent",null,{root:!0}),i.forEach((function(e){m(e,u,r),n("canvas/addComponent",{component:e},{root:!0})}))}}}},g=y,x={namespaced:!1,mutations:{},actions:{addAnimation:function(e,t){var n=e.rootState;n.canvas.curComponent&&n.canvas.curComponent.animations.push(t)},removeAnimation:function(e,t){var n=e.rootState;n.canvas.curComponent&&n.canvas.curComponent.animations.splice(t,1)}}},C=x,N={canvas:c,snapshot:u,contextMenu:s,canvasAction:g,animation:C},S=(t["a"]=Object(o["a"])({mutations:{},actions:{},modules:N}),Symbol("vue-store"));function k(){return Object(o["b"])(S)}},"1f2a":function(e,t,n){"use strict";var o=n("d4ec"),a=n("bee2"),c=(n("159b"),function(){function e(){Object(o["a"])(this,e),this.list={}}return Object(a["a"])(e,[{key:"$on",value:function(e,t){this.list[e]=this.list[e]||[],this.list[e].push(t)}},{key:"$emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.list[e]&&this.list[e].forEach((function(e){e.apply(void 0,n)}))}},{key:"$off",value:function(e){this.list[e]&&delete this.list[e]}}]),e}()),r=new c;t["a"]=r},"257b":function(e,t,n){},"2b68":function(e,t,n){e.exports={"attr-list":"index-module_attr-list_3S6ru"}},"30b6":function(e,t,n){e.exports={home:"home-module_home_2GfbX","left-tab":"home-module_left-tab_3UGrD"}},"3db4":function(e,t,n){},"3feb":function(e,t,n){e.exports={"animation-list":"index-module_animation-list_2R-hv"}},"4a09":function(e,t,n){e.exports={area:"index-module_area_2iUHL",grid:"index-module_grid_cG1Zy",editor:"index-module_editor_O1wIl",lock:"index-module_lock_15s0X","edit-component":"index-module_edit-component_3l-1x","wrap-component":"index-module_wrap-component_4Isua","shape-active":"index-module_shape-active_2IYMe",shape:"index-module_shape_1_CMd","mark-line":"index-module_mark-line_tFQer",contextmenu:"index-module_contextmenu_18JuD","preview-bg":"index-module_preview-bg_T9miE"}},5734:function(e,t,n){e.exports={toolbar:"index-module_toolbar_3Fot1"}},"59ff":function(e,t,n){e.exports={"modal-bg":"index-module_modal-bg_QTpss"}},"6e1c":function(e,t,n){},7186:function(e,t,n){var o={"./":["c33a",9],"./CustomerIcon":["ec03",9,"chunk-75a19514"],"./CustomerIcon/":["ec03",9,"chunk-75a19514"],"./CustomerIcon/index":["ec03",9,"chunk-75a19514"],"./CustomerIcon/index.module.scss":["fc5e",7,"chunk-774baf7c"],"./CustomerIcon/index.tsx":["ec03",9,"chunk-75a19514"],"./Group":["7683",9,"chunk-60f80f20"],"./Group/":["7683",9,"chunk-60f80f20"],"./Group/index":["7683",9,"chunk-60f80f20"],"./Group/index.tsx":["7683",9,"chunk-60f80f20"],"./Picture":["33e9",9,"chunk-7ce9a4ac"],"./Picture/":["33e9",9,"chunk-7ce9a4ac"],"./Picture/index":["33e9",9,"chunk-7ce9a4ac"],"./Picture/index.tsx":["33e9",9,"chunk-7ce9a4ac"],"./RectShape":["12a5",9,"chunk-5cd3882a"],"./RectShape/":["12a5",9,"chunk-5cd3882a"],"./RectShape/index":["12a5",9,"chunk-5cd3882a"],"./RectShape/index.tsx":["12a5",9,"chunk-5cd3882a"],"./Swiper":["d9d7",9,"chunk-704d913e","chunk-2d21f85e"],"./Swiper/":["d9d7",9,"chunk-704d913e","chunk-2d21f85e"],"./Swiper/SwipeItem":["7903",9,"chunk-704d913e"],"./Swiper/SwipeItem.tsx":["7903",9,"chunk-704d913e"],"./Swiper/Swiper":["dbc9",9,"chunk-d37b2238"],"./Swiper/Swiper.tsx":["dbc9",9,"chunk-d37b2238"],"./Swiper/index":["d9d7",9,"chunk-704d913e","chunk-2d21f85e"],"./Swiper/index.module.scss":["06cd",7,"chunk-743ef222"],"./Swiper/index.tsx":["d9d7",9,"chunk-704d913e","chunk-2d21f85e"],"./VButton":["e3d5",9,"chunk-3c692bd5"],"./VButton/":["e3d5",9,"chunk-3c692bd5"],"./VButton/index":["e3d5",9,"chunk-3c692bd5"],"./VButton/index.tsx":["e3d5",9,"chunk-3c692bd5"],"./VText":["e9ed",9,"chunk-57ac58ae"],"./VText/":["e9ed",9,"chunk-57ac58ae"],"./VText/index":["e9ed",9,"chunk-57ac58ae"],"./VText/index.tsx":["e9ed",9,"chunk-57ac58ae"],"./config/sfc":["9c20",9],"./config/sfc.ts":["9c20",9],"./index":["c33a",9],"./index.module.scss":["5c4f",7,"chunk-74992c29"],"./index.ts":["c33a",9]};function a(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(a,t[1])}))}a.keys=function(){return Object.keys(o)},a.id="7186",e.exports=a},"74a9":function(e,t,n){e.exports={"component-list":"index-module_component-list_3KXf2"}},9746:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=0;function a(){return o+=1,o}},"9c20":function(e,t,n){"use strict";n.r(t),n.d(t,"commonStyle",(function(){return a})),n.d(t,"commonAttr",(function(){return c}));for(var o=n("5530"),a={rotate:0,opacity:1},c={id:-1,animations:[],events:{},groupStyle:{},isLock:!1},r=[{component:"VText",label:"文字",propValue:"双击编辑文字",icon:"huodongzujian_huaban1",style:{width:200,height:22,fontSize:14,fontWeight:500,lineHeight:0,letterSpacing:0,textAlign:"",color:"",borderStyle:"",borderWidth:1,borderColor:"#000"}},{component:"VButton",label:"按钮",propValue:"按钮",icon:"button",style:{width:100,height:34,borderWidth:1,borderColor:"",borderRadius:0,fontSize:14,fontWeight:500,lineHeight:1,letterSpacing:0,textAlign:"",color:"",backgroundColor:""}},{component:"Picture",label:"图片",icon:"huodongzujian-15",propValue:n("b2e4"),style:{width:300,height:200,borderRadius:0}},{component:"RectShape",label:"矩形",propValue:"&nbsp;",icon:"huodongzujian-19",style:{width:200,height:200,fontSize:14,fontWeight:500,lineHeight:1,letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",borderWidth:1,backgroundColor:"",borderStyle:"solid",verticalAlign:"middle"}},{component:"Swiper",label:"轮播图",propValue:[{title:"默认标题",field:"swiper-edit",src:n("b2e4")}],icon:"huodongzujian-20",actions:[{label:"图片",component:"swipe-edit"},{label:"指示器",changeType:"attr",field:"show-indicators",component:"switch",value:!0,props:{text:"开|关"}},{label:"滚动方向",changeType:"attr",field:"vertical",component:"switch",value:!1,props:{text:"横向|纵向"}},{label:"指示器颜色",changeType:"attr",field:"indicator-color",component:"colorPicker",value:"#1989fa"}],style:{width:375,height:200,borderColor:"transparent",borderWidth:1,backgroundColor:"",borderStyle:"solid"}},{component:"CustomerIcon",label:"图标",icon:"tubiao",propValue:"icon-tubiao",actions:[{component:"input",label:"文本",changeType:"attr",field:"title",value:"图标"},{component:"colorPicker",label:"文本颜色",changeType:"attr",field:"titleColor",value:"#333333"},{component:"input",label:"跳转链接",changeType:"attr",field:"link",value:""},{component:"iconSelect",label:"图标",changeType:"value"}],style:{width:34,height:54,color:"#1989fa"}}],i=[],u=0,l=r.length;u<l;u++){var s=r[u];s.style=Object(o["a"])(Object(o["a"])({},a),s.style),i[u]=Object(o["a"])(Object(o["a"])({},c),s)}t["default"]=i},b2e4:function(e,t,n){e.exports=n.p+"img/title.ac55a42f.jpg"},c104:function(e,t,n){"use strict";n("6e1c")},c33a:function(e,t,n){"use strict";n.r(t),n.d(t,"installCustomComponent",(function(){return c}));n("d3b7"),n("3ca3"),n("ddb0");var o=n("7a23"),a=["Picture","VText","VButton","Group","RectShape","Swiper","CustomerIcon"],c=function(e){return a.forEach((function(t){e.component(t,Object(o["defineAsyncComponent"])((function(){return n("7186")("./".concat(t))})))})),e}},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function a(e,t){var n=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createBlock"])(n)}n("c104");const c={};c.render=a;var r=c,i=n("6c02"),u=(n("a9e3"),n("c4bc"),n("6573")),l=n.n(u),s=n("ade3"),d=n("0613"),f=n("1f2a"),p=(n("d81d"),n("e31b")),b=n("1da1");n("96cf"),n("d3b7");function h(e){return v.apply(this,arguments)}function v(){return v=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n,o,a,c,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:[],o=function(e){return new Promise((function(n){t.classList.add(e.value,"animated");var o=function o(){t.removeEventListener("animationend",o),t.removeEventListener("animationcancel",o),t.classList.remove(e.value,"animated"),n(!0)};t.addEventListener("animationend",o),t.addEventListener("animationcancel",o)}))},a=0,c=n.length;case 3:if(!(a<c)){e.next=9;break}return e.next=6,o(n[a]);case 6:a++,e.next=3;break;case 9:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var m=n("4a09"),O=n.n(m),j=Object(o["defineComponent"])({props:{config:{type:Object,require:!0,default:function(){return{}}}},setup:function(e){var t=Object(o["ref"])();Object(o["onMounted"])((function(){h(t.value,e.config.animations)}));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o["h"])(Object(o["resolveComponent"])(e.is),e,t)};return function(){return Object(o["createVNode"])("div",{ref:t},[Object(o["createVNode"])(n,{class:O.a["wrap-component"],is:e.config.component,style:Object(p["c"])(e.config.style),propValue:e.config.propValue,element:e.config},null)])}}}),y=n("ecde"),g=Object(o["defineComponent"])({props:{modelValue:Boolean,show:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,a=Object(d["c"])(),c=Object(o["computed"])((function(){return a.state.canvas.componentData})),r=Object(o["computed"])((function(){return a.state.canvas.canvasStyleData})),i=function(){n("update:modelValue",!1)};return function(){return e.modelValue?Object(o["createVNode"])("div",{class:O.a["preview-bg"]},[Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){return i()},class:"close"},{default:function(){return[Object(o["createTextVNode"])("关闭")]}}),Object(o["createVNode"])("div",{class:"canvas-container"},[Object(o["createVNode"])("div",{class:"canvas",style:{width:Object(y["b"])(r.value.width)+"px",height:Object(y["b"])(r.value.height)+"px"}},[c.value.map((function(e){return Object(o["createVNode"])(j,{config:e},null)}))])])]):""}}}),x=n("5734"),C=n.n(x),N=Object(o["defineComponent"])({name:"Toolbar",setup:function(){var e=Object(d["c"])(),t=Object(o["computed"])((function(){return e.state.canvas.canvasStyleData})),n=Object(o["computed"])((function(){return e.state.canvas.componentData})),a=Object(o["ref"])(!1);Object(o["watch"])(a,(function(e){e||y()}));var c=function(t,n){var o=n.target;e.dispatch("canvas/setCanvasStyleData",Object(s["a"])({},t,Number(o.value)))},r=function(){e.dispatch("canvas/setCanvasStyleData",{width:375,height:667})},i=function(){e.dispatch("canvas/setCanvasStyleData",{width:1200,height:740})};function u(){e.dispatch("canvasAction/lock")}function p(){e.dispatch("canvasAction/unlock")}function b(){e.dispatch("canvasAction/compose"),e.dispatch("snapshot/recordSnapshot")}function h(){e.dispatch("canvasAction/decompose"),e.dispatch("snapshot/recordSnapshot")}function v(){e.dispatch("canvasAction/undo")}function m(){a.value=!0,e.dispatch("canvas/setEditMode","preview")}function O(){localStorage.setItem("canvasData",JSON.stringify(n.value)),localStorage.setItem("canvasStyle",JSON.stringify(t.value)),l.a.success("保存成功")}function j(){e.dispatch("canvas/setComponentData",[]),e.dispatch("snapshot/recordSnapshot")}function y(){e.dispatch("canvas/setEditMode","edit")}return f["a"].$on("preview",m),f["a"].$on("save",O),f["a"].$on("clearCanvas",j),function(){return Object(o["createVNode"])(o["Fragment"],null,[Object(o["createVNode"])("div",{class:C.a.toolbar},[Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){return v()}},{default:function(){return[Object(o["createTextVNode"])("撤消")]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){return m()},style:"margin-left: 10px;"},{default:function(){return[Object(o["createTextVNode"])("预览")]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){return O()}},{default:function(){return[Object(o["createTextVNode"])("保存")]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){return j()}},{default:function(){return[Object(o["createTextVNode"])("清空画布")]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){return b()}},{default:function(){return[Object(o["createTextVNode"])("组合")]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){return h()}},{default:function(){return[Object(o["createTextVNode"])("拆分")]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){return u()}},{default:function(){return[Object(o["createTextVNode"])("锁定")]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){return p()}},{default:function(){return[Object(o["createTextVNode"])("解锁")]}}),Object(o["createVNode"])("div",{class:"canvas-config"},[Object(o["createVNode"])("span",null,[Object(o["createTextVNode"])("画布大小")]),Object(o["createVNode"])("input",{value:t.value.width,onInput:function(e){return c("width",e)}},null),Object(o["createVNode"])("span",null,[Object(o["createTextVNode"])("*")]),Object(o["createVNode"])("input",{value:t.value.height,onClick:function(e){return c("height",e)}},null)]),Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{size:"mini",onClick:function(){return r()}},{default:function(){return[Object(o["createTextVNode"])("H5")]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{size:"mini",onClick:function(){return i()}},{default:function(){return[Object(o["createTextVNode"])("PC")]}}),Object(o["createVNode"])("div",{class:"canvas-config"},[Object(o["createVNode"])("span",null,[Object(o["createTextVNode"])("画布比例")]),Object(o["createVNode"])("input",{value:t.value.scale,onInput:function(e){return c("scale",e)}},null),Object(o["createTextVNode"])(" %")])]),Object(o["createVNode"])(g,{modelValue:a.value,"onUpdate:modelValue":function(e){return a.value=e}},null)])}}}),S=(n("caad"),n("2532"),n("159b"),n("ac1f"),n("1276"),Object(o["defineComponent"])({name:"Grid",setup:function(){return function(){return Object(o["createVNode"])("svg",{class:O.a.grid,width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},[Object(o["createVNode"])("defs",null,[Object(o["createVNode"])("pattern",{id:"smallGrid",width:"7.236328125",height:"7.236328125",patternUnits:"userSpaceOnUse"},[Object(o["createVNode"])("path",{d:"M 7.236328125 0 L 0 0 0 7.236328125",fill:"none",stroke:"rgba(207, 207, 207, 0.3)","stroke-width":"1"},null)]),Object(o["createVNode"])("pattern",{id:"grid",width:"36.181640625",height:"36.181640625",patternUnits:"userSpaceOnUse"},[Object(o["createVNode"])("rect",{width:"36.181640625",height:"36.181640625",fill:"url(#smallGrid)"},null),Object(o["createVNode"])("path",{d:"M 36.181640625 0 L 0 0 0 36.181640625",fill:"none",stroke:"rgba(186, 186, 186, 0.5)","stroke-width":"1"},null)])]),Object(o["createVNode"])("rect",{width:"100%",height:"100%",fill:"url(#grid)"},null)])}}})),k=Object(o["defineComponent"])({props:{start:{type:Object,default:function(){return{x:0,y:0}}},width:{type:Number,default:0},height:{type:Number,default:0}},setup:function(e){return function(){return Object(o["createVNode"])("div",{style:{left:e.start.x+"px",top:e.start.y+"px",width:e.width+"px",height:e.height+"px"},class:O.a.area},null)}}}),V=n("b85c"),w=n("5530"),T=(n("25f0"),{lt:M,t:I,rt:E,r:A,rb:D,b:P,lb:_,l:L});function M(e,t,n,o,a){var c=a.symmetricPoint,r=Object(y["d"])(t,c),i=e.rotate||0,u=Object(y["a"])(t,r,-i),l=Object(y["a"])(c,r,-i),s=l.x-u.x,d=l.y-u.y;if(o){s/d>n?(u.x+=Math.abs(s-d*n),s=d*n):(u.y+=Math.abs(d-s/n),d=s/n);var f=Object(y["a"])(u,r,i);r=Object(y["d"])(f,c),u=Object(y["a"])(f,r,-i),l=Object(y["a"])(c,r,-i),s=l.x-u.x,d=l.y-u.y}s>0&&d>0&&(e.width=Math.round(s),e.height=Math.round(d),e.left=Math.round(u.x),e.top=Math.round(u.y))}function E(e,t,n,o,a){var c=a.symmetricPoint,r=e.rotate||0,i=Object(y["d"])(t,c),u=Object(y["a"])(t,i,-r),l=Object(y["a"])(c,i,-r),s=u.x-l.x,d=l.y-u.y;if(o){s/d>n?(u.x-=Math.abs(s-d*n),s=d*n):(u.y+=Math.abs(d-s/n),d=s/n);var f=Object(y["a"])(u,i,r);i=Object(y["d"])(f,c),u=Object(y["a"])(f,i,-r),l=Object(y["a"])(c,i,-r),s=u.x-l.x,d=l.y-u.y}s>0&&d>0&&(e.width=Math.round(s),e.height=Math.round(d),e.left=Math.round(l.x),e.top=Math.round(u.y))}function D(e,t,n,o,a){var c=a.symmetricPoint,r=e.rotate||0,i=Object(y["d"])(t,c),u=Object(y["a"])(c,i,-r),l=Object(y["a"])(t,i,-r),s=l.x-u.x,d=l.y-u.y;if(o){s/d>n?(l.x-=Math.abs(s-d*n),s=d*n):(l.y-=Math.abs(d-s/n),d=s/n);var f=Object(y["a"])(l,i,r);i=Object(y["d"])(f,c),u=Object(y["a"])(c,i,-r),l=Object(y["a"])(f,i,-r),s=l.x-u.x,d=l.y-u.y}s>0&&d>0&&(e.width=Math.round(s),e.height=Math.round(d),e.left=Math.round(u.x),e.top=Math.round(u.y))}function _(e,t,n,o,a){var c=a.symmetricPoint,r=e.rotate||0,i=Object(y["d"])(t,c),u=Object(y["a"])(c,i,-r),l=Object(y["a"])(t,i,-r),s=u.x-l.x,d=l.y-u.y;if(o){s/d>n?(l.x+=Math.abs(s-d*n),s=d*n):(l.y-=Math.abs(d-s/n),d=s/n);var f=Object(y["a"])(l,i,r);i=Object(y["d"])(f,c),u=Object(y["a"])(c,i,-r),l=Object(y["a"])(f,i,-r),s=u.x-l.x,d=l.y-u.y}s>0&&d>0&&(e.width=Math.round(s),e.height=Math.round(d),e.left=Math.round(l.x),e.top=Math.round(u.y))}function I(e,t,n,o,a){var c=a.symmetricPoint,r=a.curPoint,i=Object(y["a"])(t,r,-e.rotate),u=Object(y["a"])({x:r.x,y:i.y},r,e.rotate),l=Math.sqrt(Math.pow(u.x-c.x,2)+Math.pow(u.y-c.y,2));if(l>0){var s={x:u.x-(u.x-c.x)/2,y:u.y+(c.y-u.y)/2},d=e.width||0;o&&(d=l*n),e.width=d,e.height=Math.round(l),e.top=Math.round(s.y-l/2),e.left=Math.round(s.x-d/2)}}function A(e,t,n,o,a){var c=a.symmetricPoint,r=a.curPoint,i=Object(y["a"])(t,r,-e.rotate),u=Object(y["a"])({x:i.x,y:r.y},r,e.rotate),l=Math.sqrt(Math.pow(u.x-c.x,2)+Math.pow(u.y-c.y,2));if(l>0){var s={x:u.x-(u.x-c.x)/2,y:u.y+(c.y-u.y)/2},d=e.height||0;o&&(d=l/n),e.height=d,e.width=Math.round(l),e.top=Math.round(s.y-d/2),e.left=Math.round(s.x-l/2)}}function P(e,t,n,o,a){var c=a.symmetricPoint,r=a.curPoint,i=Object(y["a"])(t,r,-e.rotate),u=Object(y["a"])({x:r.x,y:i.y},r,e.rotate),l=Math.sqrt(Math.pow(u.x-c.x,2)+Math.pow(u.y-c.y,2));if(l>0){var s={x:u.x-(u.x-c.x)/2,y:u.y+(c.y-u.y)/2},d=e.width;o&&(d=l*n),e.width=d,e.height=Math.round(l),e.top=Math.round(s.y-l/2),e.left=Math.round(s.x-e.width/2)}}function L(e,t,n,o,a){var c=a.symmetricPoint,r=a.curPoint,i=Object(y["a"])(t,r,-e.rotate),u=Object(y["a"])({x:i.x,y:r.y},r,e.rotate),l=Math.sqrt(Math.pow(u.x-c.x,2)+Math.pow(u.y-c.y,2));if(l>0){var s={x:u.x-(u.x-c.x)/2,y:u.y+(c.y-u.y)/2},d=e.height;o&&(d=l/n),e.height=d,e.width=Math.round(l),e.top=Math.round(s.y-e.height/2),e.left=Math.round(s.x-l/2)}}function R(e,t,n,o,a,c){T[e](t,n,o,a,c)}var U=Object(o["defineComponent"])({name:"Shape",props:{active:{type:Boolean,default:!1},element:{require:!0,type:Object,default:function(){return{}}},defaultStyle:{require:!0,type:Object,default:function(){return{}}},index:{require:!0,type:[Number,String]}},setup:function(e,t){var n=Object(d["c"])(),a=Object(o["ref"])(null),c=Object(o["reactive"])({pointList:["lt","t","rt","r","rb","b","lb","l"],initialAngle:{lt:0,t:45,rt:90,r:135,rb:180,b:225,lb:270,l:315},angleToCursor:[{start:338,end:23,cursor:"nw"},{start:23,end:68,cursor:"n"},{start:68,end:113,cursor:"ne"},{start:113,end:158,cursor:"e"},{start:158,end:203,cursor:"se"},{start:203,end:248,cursor:"s"},{start:248,end:293,cursor:"sw"},{start:293,end:338,cursor:"w"}],cursors:{}}),r=Object(o["computed"])((function(){return n.state.canvas.curComponent}));Object(o["computed"])((function(){return n.state.canvas.canvasStyleData}));n.dispatch("canvas/getEditor");var i=n.state.canvas.editor,u=function(e){e.stopPropagation(),e.preventDefault()},l=function(t){var a,r,i;if(n.dispatch("canvas/setClickComponentStatus",!0),"v-text"!==(null===(a=e.element)||void 0===a?void 0:a.component)&&"rect-shape"!==(null===(r=e.element)||void 0===r?void 0:r.component)&&t.preventDefault(),t.stopPropagation(),n.dispatch("canvas/setCurComponent",{component:e.element,index:e.index}),setTimeout((function(){var t;f["a"].$emit("updateFormData",null===(t=e.element)||void 0===t?void 0:t.style)})),null===(i=e.element)||void 0===i||!i.isLock){c.cursors=j();var u=Object(w["a"])({},e.defaultStyle),l=t.clientY,s=t.clientX,d=Number(u.top),p=Number(u.left),b=!1,h=function(e){b=!0;var t=e.clientX,a=e.clientY,c=a-l+d,r=t-s+p;return u.top=c,u.left=r,n.dispatch("canvas/setShapeStyle",u),setTimeout((function(){f["a"].$emit("updateFormData",u)})),Object(o["nextTick"])((function(){f["a"].$emit("move",a-l>0,t-s>0)})),!1},v=function e(){b&&n.dispatch("snapshot/recordSnapshot"),f["a"].$emit("unmove"),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",e)};return document.addEventListener("mousemove",h),document.addEventListener("mouseup",v),!1}},p=function(t){var o;n.dispatch("canvas/setClickComponentStatus",!0),t.preventDefault(),t.stopPropagation();var r=Object(w["a"])({},e.defaultStyle),i=t.clientY,u=t.clientX,l=r.rotate||0,s=null===(o=a.value)||void 0===o?void 0:o.getBoundingClientRect(),d=(null===s||void 0===s?void 0:s.left)||0,p=(null===s||void 0===s?void 0:s.width)||0,b=(null===s||void 0===s?void 0:s.height)||0,h=(null===s||void 0===s?void 0:s.top)||0,v=d+p/2,m=h+b/2,O=Math.atan2(i-m,u-v)/(Math.PI/180),y=!1,g=function(e){y=!0;var t=e.clientX,o=e.clientY,a=Math.atan2(o-m,t-v)/(Math.PI/180);r.rotate=l+a-O,n.dispatch("canvas/setShapeStyle",r),setTimeout((function(){f["a"].$emit("updateFormData",r)}))},x=function e(){y&&n.dispatch("snapshot/recordSnapshot"),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",e),c.cursors=j()};document.addEventListener("mousemove",g),document.addEventListener("mouseup",x)},b=function(t){var n=e.defaultStyle,o=n.width,a=n.height;o=o||0,a=a||0;var r=/b/.test(t),i=/l/.test(t),u=/r/.test(t),l=/t/.test(t),s=0,d=0;2===t.length?(s=i?0:o,d=l?0:a):((l||r)&&(s=o/2,d=l?0:a),(i||u)&&(s=i?0:o,d=Math.floor(a/2)));var f={marginLeft:"-4px",marginTop:"-4px",left:"".concat(s,"px"),top:"".concat(d,"px"),cursor:c.cursors[t]};return f},v=function(t,o){n.dispatch("canvas/setClickComponentStatus",!0),o.stopPropagation(),o.preventDefault();var a=Object(w["a"])({},e.defaultStyle),c=a.width||0,r=a.height||0,u=a.left||0,l=a.top||0,s=c/r,d={x:u+c/2,y:l+r/2};if(i){var p=i.getBoundingClientRect(),b={x:o.clientX-p.left,y:o.clientY-p.top},h={x:d.x-(b.x-d.x),y:d.y-(b.y-d.y)},v=!1,m=!0,O=g(),j=function(e){if(m)m=!1;else{v=!0;var o={x:e.clientX-p.left,y:e.clientY-p.top};R(t,a,o,s,O,{center:d,curPoint:b,symmetricPoint:h}),setTimeout((function(){f["a"].$emit("updateFormData",a)})),n.dispatch("canvas/setShapeStyle",a)}},y=function e(){document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",e),v&&n.dispatch("snapshot/recordSnapshot")};document.addEventListener("mousemove",j),document.addEventListener("mouseup",y)}},m=function(){var t;return e.active&&!(null!==(t=e.element)&&void 0!==t&&t.isLock)},j=function(){var e=c.angleToCursor,t=c.initialAngle,n=c.pointList,o=r.value&&r.value.style.rotate?r.value.style.rotate:0,a=Object(y["e"])(o),i={},u=-1;return n.forEach((function(n){var o=t[n],c=Object(y["e"])(o+a),r=e.length;while(1){u=(u+1)%r;var l=e[u];if(c<23||c>=338)return void(i[n]="nw-resize");if(l.start<=c&&c<l.end)return void(i[n]=l.cursor+"-resize")}})),i},g=function(){if(e.element){if("Group"!==e.element.component)return!1;var t,n=[0,90,180,360],o=Object(V["a"])(e.element.propValue);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(!n.includes(Object(y["e"])(parseInt((a.style.rotate||0).toString()))))return!0}}catch(c){o.e(c)}finally{o.f()}return!1}return!1};return Object(o["onMounted"])((function(){r.value&&(c.cursors=j()),f["a"].$on("runAnimation",(function(){e.element===r.value&&h(a.value,r.value.animations)}))})),function(){var n,r;return Object(o["createVNode"])("div",{class:(n={},Object(s["a"])(n,O.a.shape,!0),Object(s["a"])(n,O.a["shape-active"],e.active),n),onClick:Object(o["withModifiers"])((function(e){return u(e)}),["stop","prevent"]),onMousedown:Object(o["withModifiers"])((function(e){return l(e)}),["stop","prevent"]),ref:a},[Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"iconfont icon-xiangyouxuanzhuan",onMousedown:function(e){return p(e)}},null),[[o["vShow"],m()]]),Object(o["withDirectives"])(Object(o["createVNode"])("span",{class:"iconfont icon-lock"},null),[[o["vShow"],null===(r=e.element)||void 0===r?void 0:r.isLock]]),m()?c.pointList.map((function(e){return Object(o["createVNode"])("div",{class:"shape-point",onMousedown:function(t){return v(e,t)},key:"item",style:b(e)},null)})):"",t.slots.default&&t.slots.default()])}}}),B=(n("b64b"),Object(o["defineComponent"])({name:"MarkLine",setup:function(){var e=Object(d["c"])(),t=["xt","xc","xb","yl","yc","yr"],n=3,a=Object(o["reactive"])({xt:null,xc:null,xb:null,yl:null,yc:null,yr:null}),c=Object(o["reactive"])({xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}),r=Object(o["computed"])((function(){return e.state.canvas.curComponent})),i=Object(o["computed"])((function(){return e.state.canvas.componentData})),u=function(){Object.keys(c).forEach((function(e){c[e]=!1}))},l=function(t,n){var o=a,c=i.value,l=r.value?r.value.style:{},d=Object(p["b"])(l),f=d.width/2,v=d.height/2;u(),c.forEach((function(a){if(a!==r.value){var c=Object(p["b"])(a.style),i=c.top,u=c.left,l=c.bottom,m=c.right,O=c.width/2,j=c.height/2,y={top:[{isNearly:h(d.top,i),lineNode:o.xt,line:"xt",dragShift:i,lineShift:i},{isNearly:h(d.bottom,i),lineNode:o.xt,line:"xt",dragShift:i-d.height,lineShift:i},{isNearly:h(d.top+v,i+j),lineNode:o.xc,line:"xc",dragShift:i+j-v,lineShift:i+j},{isNearly:h(d.top,l),lineNode:o.xb,line:"xb",dragShift:l,lineShift:l},{isNearly:h(d.bottom,l),lineNode:o.xb,line:"xb",dragShift:l-d.height,lineShift:l}],left:[{isNearly:h(d.left,u),lineNode:o.yl,line:"yl",dragShift:u,lineShift:u},{isNearly:h(d.right,u),lineNode:o.yl,line:"yl",dragShift:u-d.width,lineShift:u},{isNearly:h(d.left+f,u+O),lineNode:o.yc,line:"yc",dragShift:u+O-f,lineShift:u+O},{isNearly:h(d.left,m),lineNode:o.yr,line:"yr",dragShift:m,lineShift:m},{isNearly:h(d.right,m),lineNode:o.yr,line:"yr",dragShift:m-d.width,lineShift:m}]},g=[],x=0;r.value&&(x=r.value.style.width||0),Object.keys(y).forEach((function(t){y[t].forEach((function(n){n.isNearly&&(e.dispatch("canvas/setShapeSingleStyle",{key:t,value:0!==x?s(t,n,d):n.dragShift}),n.lineNode.style[t]="".concat(n.lineShift,"px"),g.push(n.line))}))})),g.length&&b(g,t,n)}}))},s=function(e,t,n){var o=0,a=0;r.value&&(o=r.value.style.width||0,a=r.value.style.height||0);var c=n.width||0,i=n.height||0;return"top"===e?Math.round(t.dragShift-(a-i)/2):Math.round(t.dragShift-(o-c)/2)},b=function(e,t,n){n?e.includes("yr")?c.yr=!0:e.includes("yc")?c.yc=!0:e.includes("yl")&&(c.yl=!0):e.includes("yl")?c.yl=!0:e.includes("yc")?c.yc=!0:e.includes("yr")&&(c.yr=!0),t?e.includes("xb")?c.xb=!0:e.includes("xc")?c.xc=!0:e.includes("xt")&&(c.xt=!0):e.includes("xt")?c.xt=!0:e.includes("xc")?c.xc=!0:e.includes("xb")&&(c.xb=!0)},h=function(e,t){return Math.abs(e-t)<=n};return Object(o["onMounted"])((function(){f["a"].$on("move",(function(e,t){l(e,t)})),f["a"].$on("unmove",(function(){u()}))})),Object(o["onBeforeUpdate"])((function(){Object.keys(t).forEach((function(e){a[e]=null}))})),function(){return Object(o["createVNode"])("div",{class:O.a["mark-line"]},[t.map((function(e){return Object(o["withDirectives"])(Object(o["createVNode"])("div",{key:e,class:["line",e.includes("x")?"xline":"yline"],ref:function(t){t&&(a[e]=t)}},null),[[o["vShow"],c[e]||!1]])}))])}}})),Y=Object(o["defineComponent"])({name:"ContextMenu",setup:function(){var e=Object(d["c"])(),t=Object(o["computed"])((function(){return e.state.contextMenu.menuTop})),n=Object(o["computed"])((function(){return e.state.contextMenu.menuLeft})),a=Object(o["computed"])((function(){return e.state.contextMenu.menuShow})),c=Object(o["computed"])((function(){return e.state.canvas.curComponent}));function r(){e.dispatch("canvasAction/lock")}function i(){e.dispatch("canvasAction/unlock")}function u(){e.dispatch("canvas/setClickComponentStatus",!0)}function l(){e.dispatch("canvasAction/cut")}function s(){e.dispatch("canvasAction/copy")}function f(){e.dispatch("canvasAction/paste",!0),e.dispatch("snapshot/recordSnapshot")}function p(){e.dispatch("canvas/deleteComponent"),e.dispatch("snapshot/recordSnapshot")}function b(){e.dispatch("canvasAction/upComponent"),e.dispatch("snapshot/recordSnapshot")}function h(){e.dispatch("canvasAction/downComponent"),e.dispatch("snapshot/recordSnapshot")}function v(){e.dispatch("canvasAction/topComponent"),e.dispatch("snapshot/recordSnapshot")}function m(){e.dispatch("canvasAction/bottomComponent"),e.dispatch("snapshot/recordSnapshot")}var j=function(){return c.value&&c.value.isLock?Object(o["createVNode"])("li",{onClick:function(){return i()}},[Object(o["createTextVNode"])("解锁")]):Object(o["createVNode"])(o["Fragment"],null,[Object(o["createVNode"])("li",{onClick:function(){return s()}},[Object(o["createTextVNode"])("复制")]),Object(o["createVNode"])("li",{onClick:function(){return f()}},[Object(o["createTextVNode"])("粘贴")]),Object(o["createVNode"])("li",{onClick:function(){return l()}},[Object(o["createTextVNode"])("剪切")]),Object(o["createVNode"])("li",{onClick:function(){return p()}},[Object(o["createTextVNode"])("删除")]),Object(o["createVNode"])("li",{onClick:function(){return r()}},[Object(o["createTextVNode"])("锁定")]),Object(o["createVNode"])("li",{onClick:function(){return v()}},[Object(o["createTextVNode"])("置顶")]),Object(o["createVNode"])("li",{onClick:function(){return m()}},[Object(o["createTextVNode"])("置底")]),Object(o["createVNode"])("li",{onClick:function(){return b()}},[Object(o["createTextVNode"])("上移")]),Object(o["createVNode"])("li",{onClick:function(){return h()}},[Object(o["createTextVNode"])("下移")])])},y=function(){return c.value?j():Object(o["createVNode"])("li",{onClick:function(){return f()}},[Object(o["createTextVNode"])("粘贴")])};return function(){return Object(o["withDirectives"])(Object(o["createVNode"])("div",{class:O.a.contextmenu,style:{top:t.value+"px",left:n.value+"px"}},[Object(o["createVNode"])("ul",{onMouseup:function(){return u()}},[y()])]),[[o["vShow"],a.value]])}}}),z=n("d257"),X=Object(o["defineComponent"])({name:"Editor",props:{isEdit:{type:Boolean,default:!0}},setup:function(e){var t=Object(d["c"])(),n=Object(o["computed"])((function(){return t.state.canvas.canvasStyleData})),a=Object(o["computed"])((function(){return t.state.canvas.componentData})),c=Object(o["computed"])((function(){return t.state.canvas.curComponent})),r=Object(o["computed"])((function(){return t.state.canvas.editor})),i=Object(o["ref"])(0),u=Object(o["ref"])(0),l=Object(o["reactive"])({x:0,y:0}),b=Object(o["reactive"])({width:0,height:0,isShowArea:!1});Object(o["onMounted"])((function(){t.dispatch("canvas/getEditor"),f["a"].$on("hideArea",(function(){h()}))}));var h=function(){b.isShowArea=!1,b.width=0,b.height=0},v=function(e){if(e.stopPropagation(),e.preventDefault(),e.target){var n=e.target,o=e.offsetY,a=e.offsetX;while(n instanceof SVGElement)n=n.parentNode;while(!n.className.includes("editor"))a+=n.offsetLeft,o+=n.offsetTop,n=n.parentNode;t.dispatch("contextMenu/showContextMenu",{top:o,left:a})}},m=function(e){var t;(!c.value||"v-text"!==c.value.component&&"rect-shape"!==c.value.component)&&e.preventDefault(),h();var n=null===(t=r.value)||void 0===t?void 0:t.getBoundingClientRect();i.value=n?n.x:0,u.value=n?n.y:0;var o=e.clientX,a=e.clientY;l.x=o-i.value,l.y=a-u.value,b.isShowArea=!0;var s=function(e){b.width=Math.abs(e.clientX-o),b.height=Math.abs(e.clientY-a),e.clientX<o&&(l.x=e.clientX-i.value),e.clientY<a&&(l.y=e.clientY-u.value)},d=function e(t){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e),t.clientX!==o||t.clientY!==a?g():h()};document.addEventListener("mousemove",s),document.addEventListener("mouseup",d)},j=function(){var e=[],t=l.x,n=l.y;return a.value.forEach((function(o){if(!o.isLock){var a=o.style,c=a.left,r=a.top,i=a.width,u=a.height;c=c||0,r=r||0,i=i||0,u=u||0,t<=c&&n<=r&&c+i<=t+b.width&&r+u<=n+b.height&&e.push(o)}})),e},g=function(){var e=j();if(e.length<=1)h();else{var n=1/0,o=1/0,a=-1/0,c=-1/0;e.forEach((function(e){var t={};"Group"===e.component?e.propValue.forEach((function(e){var r,l=null===(r=Object(z["a"])("#component".concat(e.id)))||void 0===r?void 0:r.getBoundingClientRect();l&&(t.left=l.left-i.value,t.top=l.top-u.value,t.right=l.right-i.value,t.bottom=l.bottom-u.value,t.left<o&&(o=t.left),t.top<n&&(n=t.top),t.right>a&&(a=t.right),t.bottom>c&&(c=t.bottom))})):t=Object(p["b"])(e.style),t.left<o&&(o=t.left||0),t.top<n&&(n=t.top||0),t.right>a&&(a=t.right||0),t.bottom>c&&(c=t.bottom||0)})),l.x=o,l.y=n,b.width=a-o,b.height=c-n,t.dispatch("canvas/setAreaData",{style:{left:o,top:n,width:b.width,height:b.height},components:e})}},x=function(e){var t={};return["width","height","top","left","rotate"].forEach((function(n){"rotate"!==n?t[n]=e[n]+"px":t.transform="rotate("+e[n]+"deg)"})),t},C=function(e){return Object(p["c"])(e,["top","left","width","height","rotate"])},N=function(e,t){var n=e.style,o=n.lineHeight,a=n.fontSize,c=n.height;""===o&&(o=1.5);var r=(t.split("<br>").length-1)*o*a;return c>r?c:r},V=function(e,n){t.dispatch("snapshot/setShapeStyle",{height:N(e,n)})},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o["h"])(Object(o["resolveComponent"])(e.is),e,t)};return function(){var t;return Object(o["createVNode"])("div",{id:"editor",class:(t={},Object(s["a"])(t,O.a.editor,!0),Object(s["a"])(t,O.a.edit,e.isEdit),t),style:{width:Object(y["b"])(n.value.width)+"px",height:Object(y["b"])(n.value.height)+"px"},onContextmenu:function(e){return v(e)},onMousedown:function(e){return m(e)}},[Object(o["createVNode"])(S,null,null),a.value.map((function(e,t){return Object(o["createVNode"])(U,{defaultStyle:e.style,style:x(e.style),key:"item.id",active:e===c.value,element:e,index:t,class:{lock:e.isLock}},{default:function(){return["v-text"!==e.component?Object(o["createVNode"])(w,Object(o["mergeProps"])({class:O.a["edit-component"],is:e.component,style:C(e.style),propValue:e.propValue,element:e},e.props,{id:"component"+e.id}),null):Object(o["createVNode"])(w,{class:O.a["edit-component"],is:e.component,style:C(e.style),propValue:e.propValue,input:V,element:e,id:"component"+e.id},null)]}})})),Object(o["createVNode"])(Y,null,null),Object(o["createVNode"])(B,null,null),Object(o["withDirectives"])(Object(o["createVNode"])(k,{start:l,width:b.width,height:b.height},null),[[o["vShow"],b.isShowArea]])])}}}),F=n("9c20"),H=n("74a9"),G=n.n(H),$=Object(o["defineComponent"])({name:"ComponentsList",setup:function(){var e=function(e){e.dataTransfer&&e.target&&e.dataTransfer.setData("index",e.target.getAttribute("data-index")||"1")};return function(){return Object(o["createVNode"])("div",{onDragstart:function(t){return e(t)},class:G.a["component-list"]},[F["default"].map((function(e,t){return Object(o["createVNode"])("div",{class:"list",draggable:!0,"data-index":t},[Object(o["createVNode"])("span",{class:["iconfont","icon-"+e.icon]},null),Object(o["createVNode"])("span",null,[e.label])])}))])}}}),W=n("59ff"),q=n.n(W),J=Object(o["defineComponent"])({name:"Model",props:{modelValue:Boolean},emits:["update:modelValue"],setup:function(e,t){var n=t.slots,a=t.emit,c=function(){a("update:modelValue",!1)},r=function(e){e.stopPropagation()};return function(){return e.modelValue?Object(o["createVNode"])("div",{class:q.a["modal-bg"],onClick:function(){return c()}},[Object(o["createVNode"])("div",{class:"fadeInLeft animated modal",onClick:function(e){return r(e)}},[n.default&&n.default()])]):""}}}),K=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedInRight"},{label:"光速从左进入",value:"lightSpeedInLeft"},{label:"光速从右退出",value:"lightSpeedOutRight"},{label:"光速从左退出",value:"lightSpeedOutLeft"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}],Q=K,Z=n("3feb"),ee=n.n(Z);function te(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(o["isVNode"])(e)}var ne=Object(o["defineComponent"])({name:"AnimationList",setup:function(){var e=Object(d["c"])(),t=Object(o["ref"])(!1),n=Object(o["ref"])("进入"),a=Object(o["ref"])(""),c=Object(o["computed"])((function(){return e.state.canvas.curComponent})),r=function(n){e.dispatch("animation/addAnimation",n),t.value=!1},i=function(){f["a"].$emit("runAnimation")},u=function(t){e.dispatch("animation/removeAnimation",t)};return function(){var e;return Object(o["createVNode"])("div",{class:ee.a["animation-list"]},[Object(o["createVNode"])("div",{class:"div-animation"},[Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){t.value=!0}},{default:function(){return[Object(o["createTextVNode"])("添加动画")]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-button"),{onClick:function(){return i()}},{default:function(){return[Object(o["createTextVNode"])("预览动画")]}}),Object(o["createVNode"])("div",null,[c.value?c.value.animations.map((function(e,t){return Object(o["createVNode"])(Object(o["resolveComponent"])("el-tag"),{closable:!0,onClose:function(){return u(t)}},{default:function(){return[e.label]}})})):""])]),Object(o["createVNode"])(J,{modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e}},{default:function(){return[Object(o["createVNode"])(Object(o["resolveComponent"])("el-tabs"),{modelValue:n.value,"onUpdate:modelValue":function(e){return n.value=e}},te(e=Q.map((function(e){var t;return Object(o["createVNode"])(Object(o["resolveComponent"])("el-tab-pane"),{label:e.label,name:e.label},{default:function(){return[Object(o["createVNode"])(Object(o["resolveComponent"])("el-scrollbar"),{class:"animate-container"},te(t=e.children.map((function(e){return Object(o["createVNode"])("div",{class:"animate",onMouseover:function(){return a.value=e.value},onClick:function(){return r(e)}},[Object(o["createVNode"])("div",{class:[a.value===e.value&&e.value+" animated"]},[e.label])])})))?t:{default:function(){return[t]}})]}})})))?e:{default:function(){return[e]}})]}})])}}}),oe=Object(o["defineComponent"])({name:"form-creator-item",props:{component:{type:String,default:"el-input"},attrs:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},field:{type:String,default:"default"},value:{type:[String,Number,Boolean,Array],default:""},changeType:{type:String,default:"style"}},emits:["data-change"],setup:function(e,t){var n=t.emit,a=Object(o["ref"])(e.component),c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(o["h"])(Object(o["resolveComponent"])(e),t,n)},r=function(t,o,a,c){n("data-change",t,o,a,c||e.changeType)},i=function(e){var t=e.type,n=e.attrs,a=e.options;switch(t){case"el-input":case"el-input-number":return c(t,Object(w["a"])(Object(w["a"])({},e.attrs),{},{modelValue:e.value,onInput:function(t){return r(t,e.field)}}));case"el-color-picker":return c(t,Object(w["a"])(Object(w["a"])({},n),{},{modelValue:e.value,onChange:function(t){return r(t,e.field)}}));case"el-radio":case"el-checkbox":return c(t+"-group",{modelValue:e.value,onChange:function(t){return r(t,e.field)}},{default:function(){return a.map((function(e,n){return c(t,Object(w["a"])({},{label:e.value,disabled:e.disabled,modelValue:e.value,key:"check-box-"+n}),{default:function(){return e.label}})}))}});case"el-select":return c(t,Object(w["a"])(Object(w["a"])({},e.attrs),{},{modelValue:e.value,onChange:function(t){return r(t,e.field)}}),{default:function(){return a.map((function(e){return c("el-option",Object(w["a"])(Object(w["a"])({},e),{},{key:"el-option_"+e.value}))}))}});case"form-uploader":return c(t,Object(w["a"])(Object(w["a"])({},n),{},{onChange:function(n){return r(n,e.field,t)}}));case"swipe-edit":return c(t,Object(w["a"])(Object(w["a"])({},n),{},{modelValue:e.value,onChange:function(n){return r(n,e.field,t)}}));case"customer-switch":return c(t,Object(w["a"])(Object(w["a"])({},n),{},{modelValue:e.value,onChange:function(n){return r(n,e.field,t,e.changeType)}}));case"icon-select":return c(t,Object(w["a"])(Object(w["a"])({},n),{},{modelValue:e.value,onChange:function(n){return r(n,e.field,t,e.changeType)}}));default:return Object(o["h"])(t,Object(w["a"])(Object(w["a"])({name:t},n),{},{modelValue:e.value}))}};return function(){return Object(o["createVNode"])(i,{type:a.value,field:e.field,attrs:e.attrs,options:e.options,changeType:e.changeType,value:e.value},null)}}}),ae=function(e){switch(e){case"input":return"el-input";case"checkbox":return"el-checkbox";case"colorPicker":return"el-color-picker";case"inputNumber":return"el-input-number";case"radio":return"el-radio";case"select":return"el-select";case"uploader":return"form-uploader";case"switch":return"customer-switch";case"iconSelect":return"icon-select";default:return e}},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};switch(e){case"input":n.type=e}return Object.assign({},n,t)};function re(e){for(var t={model:{},rules:{},fieldsConfig:[]},n=0;n<e.length;n++){var o=e[n],a=o.type,c=o.field,r=o.title,i=o.value,u=o.col,l=o.props,s=o.validate,d=o.options,f=o.changeType;t.model[c]=i,t.rules[c]=s,t.fieldsConfig.push({type:a,value:t.model[c],field:c,col:u,component:ae(a),label:r,options:d,changeType:f,attrs:ce(a,l)})}return t}var ie=n("d4ec"),ue=n("bee2"),le=function(){function e(t,n){Object(ie["a"])(this,e),this.formRef=t,this.createRules=n,this.formModelData=Object(o["reactive"])({formMode:{},rules:{},fieldsConfig:[]}),this.init()}return Object(ue["a"])(e,[{key:"init",value:function(){var e=re(this.createRules),t=e.model,n=e.rules,o=e.fieldsConfig;this.formModelData.formMode=t,this.formModelData.rules=n,this.formModelData.fieldsConfig=o}},{key:"resetData",value:function(e,t,n){this.formModelData.formMode=e,this.formModelData.rules=t,this.formModelData.fieldsConfig=n}},{key:"setMode",value:function(e){this.formModelData.formMode=e}},{key:"getCheckRules",value:function(){return this.formModelData.rules}},{key:"getFieldConfig",value:function(){return this.formModelData.fieldsConfig}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"string"===typeof e&&t&&(this.formModelData.formMode[e]=t),e instanceof Object&&Object.assign(this.formModelData.formMode,e)}},{key:"getFields",value:function(){return Object.keys(this.formModelData.formMode)}},{key:"getValue",value:function(e){return this.formModelData.formMode[e]?this.formModelData.formMode[e]:null}},{key:"validate",value:function(e){if(this.formRef.value)this.formRef.value.validate(e);else{var t=!0;e(t)}}},{key:"validateField",value:function(e,t){if(this.formRef.value)this.formRef.value.validateField(e,t);else{var n=!0;t(n)}}},{key:"formData",value:function(){return this.formModelData.formMode}},{key:"reload",value:function(){this.init(),this.formRef.value&&this.formRef.value.resetFields()}},{key:"clearValidate",value:function(){this.formRef.value&&this.formRef.value.clearValidate()}}]),e}();function se(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(o["isVNode"])(e)}var de=Object(o["defineComponent"])({name:"form-creator",props:{rules:{type:Array,default:function(){return[]}},getInstance:{type:Function,default:function(){return{}}},onChange:{type:Function,default:function(){}}},setup:function(e){var t=Object(o["ref"])(null),n=Object(o["reactive"])({model:{},rules:{},fieldsConfig:[]}),a=Object(o["computed"])((function(){return re(e.rules)})),c=new le(t,e.rules);Object(o["watch"])(a,(function(){c.resetData(a.value.model,a.value.rules,a.value.fieldsConfig)}),{immediate:!0,deep:!0}),e.getInstance(c);var r=function(t,o,a,r){var i=Object.assign({},n.model,Object(s["a"])({},a,t));e.onChange({field:a,value:t},i,o,r),c.resetData(i,c.formModelData.rules,n.fieldsConfig)};Object(o["watch"])(c.formModelData,(function(e,t){n.model=e.formMode,n.rules=e.rules,n.fieldsConfig=e.fieldsConfig}),{immediate:!0,deep:!0});var i=function(){return n.fieldsConfig.map((function(e){var t={};return e.col&&e.col.labelWidth&&(t.labelWidth=e.col.labelWidth),Object(o["createVNode"])(Object(o["resolveComponent"])("el-col"),Object(o["mergeProps"])(e.col,{key:e.field}),{default:function(){return[Object(o["createVNode"])(Object(o["resolveComponent"])("el-form-item"),{label:e.label,prop:e.field},{default:function(){return[Object(o["createVNode"])(oe,{attrs:e.attrs,changeType:e.changeType,field:e.field,component:e.component,options:e.options,value:n.model[e.field],onDataChange:function(e,t,n,o){return r(e,n,t,o)}},null)]}})]}})}))};return function(){var e;return Object(o["createVNode"])(Object(o["resolveComponent"])("el-form"),{model:n.model,rules:n.rules,inline:!1,"label-position":"left","label-width":"100px","label-suffix":"：",size:"small",ref:t},{default:function(){return[Object(o["createVNode"])(Object(o["resolveComponent"])("el-row"),null,se(e=i())?e:{default:function(){return[e]}})]}})}}}),fe=n("2b68"),pe=n.n(fe),be=Object(o["defineComponent"])({name:"Attrs",setup:function(){var e=Object(d["c"])(),t=Object(o["computed"])((function(){return e.state.canvas.curComponent})),n=Object(o["reactive"])({rules:[]}),a=function(n,o,a,c){"attr"!==c?"value"!==c?"form-uploader"!==a||"src"!==n.field?t.value&&e.dispatch("canvas/setCusComponentStyle",Object.assign(t.value.style,o)):e.dispatch("canvas/updateCurComponent",{propValue:n.value}):t.value&&(t.value.props=t.value.props||{},e.dispatch("canvas/updateCurComponent",{propValue:n.value})):t.value&&(t.value.props=t.value.props||{},e.dispatch("canvas/updateCurComponent",Object.assign(t.value.props,Object(s["a"])({},n.field,n.value))))};return Object(o["onMounted"])((function(){f["a"].$on("updateFormData",(function(e){t.value&&(n.rules=Object(p["a"])(Object(o["toRaw"])(e),t.value))}))})),function(){return Object(o["createVNode"])("div",{class:pe.a["attr-list"]},[Object(o["createVNode"])(de,{rules:n.rules,onChange:function(e,t,n,o){return a(e,t,n,o)}},null)])}}}),he=n("30b6"),ve=n.n(he),me=n("9746"),Oe=Object(o["defineComponent"])({name:"Home",setup:function(){var e=Object(o["ref"])("attr"),t=Object(o["ref"])("left"),n=Object(d["c"])(),a=Object(o["computed"])((function(){return n.state.canvas.isClickComponent})),c=Object(o["computed"])((function(){return n.state.canvas.curComponent})),r=function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer?Number(e.dataTransfer.getData("index")):0,o=Object(z["b"])(F["default"][t]);o.style.top=e.offsetY,o.style.left=e.offsetX,o.id=Object(me["a"])(),n.dispatch("canvas/addComponent",{component:o}),n.dispatch("snapshot/recordSnapshot")},i=function(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")},u=function(){n.dispatch("canvas/setClickComponentStatus",!1)},l=function(e){a.value||n.dispatch("canvas/setCurComponent",{component:null,index:null}),2!==e.button&&n.dispatch("contextMenu/hideContextMenu")};return function(){return Object(o["createVNode"])("div",{class:ve.a.home},[Object(o["createVNode"])(N,null,null),Object(o["createVNode"])("main",null,[Object(o["createVNode"])("section",{class:"left"},[Object(o["createVNode"])(Object(o["resolveComponent"])("el-tabs"),{"tab-position":t.value,class:ve.a["left-tab"],stretch:!0,style:"height: 200px;"},{default:function(){return[Object(o["createVNode"])(Object(o["resolveComponent"])("el-tab-pane"),null,{default:function(){return Object(o["createVNode"])($,null,null)},label:function(){return Object(o["createVNode"])("div",{class:"el-tab-lable"},[Object(o["createVNode"])("i",{class:"el-icon-cpu"},null),Object(o["createVNode"])("span",null,[Object(o["createTextVNode"])("基础组件")])])}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-tab-pane"),null,{default:function(){return"营销组件"},label:function(){return Object(o["createVNode"])("div",{class:"el-tab-lable"},[Object(o["createVNode"])("i",{class:"el-icon-present"},null),Object(o["createVNode"])("span",null,[Object(o["createTextVNode"])("营销组件")])])}})]}})]),Object(o["createVNode"])("section",{class:"center"},[Object(o["createVNode"])("div",{class:"content",onDrop:function(e){return r(e)},onDragover:function(e){return i(e)},onMousedown:function(){return u()},onMouseup:function(e){return l(e)}},[Object(o["createVNode"])(X,null,null)])]),Object(o["createVNode"])("section",{class:"right"},[Object(o["createVNode"])(Object(o["resolveComponent"])("el-tabs"),{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t}},{default:function(){return[Object(o["createVNode"])(Object(o["resolveComponent"])("el-tab-pane"),{label:"属性",name:"attr"},{default:function(){return[c.value?Object(o["createVNode"])(be,null,null):Object(o["createVNode"])("p",{class:"placeholder"},[Object(o["createTextVNode"])("请选择组件")])]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-tab-pane"),{label:"动画",name:"animation"},{default:function(){return[c.value?Object(o["createVNode"])(ne,null,null):Object(o["createVNode"])("p",{class:"placeholder"},[Object(o["createTextVNode"])("请选择组件")])]}}),Object(o["createVNode"])(Object(o["resolveComponent"])("el-tab-pane"),{label:"事件",name:"events"},{default:function(){return[Object(o["createVNode"])("p",{class:"placeholder"},[Object(o["createTextVNode"])("请选择组件")])]}})]}})])])])}}}),je=Object(o["defineComponent"])({name:"test-form-creator",setup:function(){var e=Object(o["reactive"])([{type:"input",title:"商品名称",field:"goods_name",value:"iphone 7",col:{span:12,labelWidth:150},props:{type:"text"},validate:[{required:!0,message:"请输入goods_name",trigger:"blur"}]},{type:"checkbox",title:"标签",field:"label",value:["1","2","3"],options:[{value:"1",label:"好用",disabled:!0},{value:"2",label:"方便",disabled:!1},{value:"3",label:"实用",disabled:!1},{value:"4",label:"有效",disabled:!1}]},{type:"inputNumber",field:"price",title:"价格",value:1,props:{precision:2}},{type:"radio",title:"是否包邮",field:"is_postage",value:"0",options:[{value:"0",label:"不包邮",disabled:!1},{value:"1",label:"包邮",disabled:!1}]},{type:"select",field:"cate_id",title:"产品分类",value:["104","105"],options:[{value:"104",label:"生态蔬菜",disabled:!1},{value:"105",label:"新鲜水果",disabled:!1}],props:{multiple:!0}},{type:"colorPicker",field:"color",title:"颜色",value:"#ff7271"}]),t=function(e){e},n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]};return function(){return Object(o["createVNode"])(o["Fragment"],null,[Object(o["createVNode"])(de,{rules:e,getInstance:t,onChange:n},null)])}}}),ye=Object(o["defineComponent"])({name:"TestStopEvent",setup:function(){var e=function(e){e.stopPropagation(),e.preventDefault()},t=function(e){};return function(){return Object(o["createVNode"])("div",{onClick:function(e){return t(e)}},[Object(o["createVNode"])("button",{onClick:function(t){return e(t)}},[Object(o["createTextVNode"])("子按钮")])])}}}),ge=[{path:"/",name:"Home",component:Oe},{path:"/test/form-creator",name:"FormCreator",component:je},{path:"/test/stop",name:"testStop",component:ye}],xe=Object(i["a"])({history:Object(i["b"])(),routes:ge}),Ce=xe,Ne=(n("3ca3"),n("ddb0"),n("5c40")),Se=(n("0a82"),n("b27e")),ke=n.n(Se),Ve=(n("5548"),n("424b")),we=n.n(Ve),Te=(n("2d5e"),n("44fb")),Me=n.n(Te),Ee=(n("5267"),n("aff9")),De=n.n(Ee),_e=(n("d31d"),n("e661")),Ie=n.n(_e),Ae=(n("5cd2"),n("05c2")),Pe=n.n(Ae),Le=(n("6674"),n("5a1e")),Re=n.n(Le),Ue=(n("40d8"),n("015f")),Be=n.n(Ue),Ye=(n("3010"),n("43f9")),ze=n.n(Ye),Xe=(n("98f6"),n("c83f")),Fe=n.n(Xe),He=(n("b6bf"),n("6c9f")),Ge=n.n(He),$e=(n("1e5c"),n("13e1")),We=n.n($e),qe=(n("76bc"),n("54a1")),Je=n.n(qe),Ke=(n("6703"),n("d197")),Qe=n.n(Ke),Ze=(n("3257"),n("19ec")),et=n.n(Ze),tt=(n("3d08"),n("89e4")),nt=n.n(tt),ot=(n("18c9"),n("ba7e")),at=n.n(ot),ct=(n("fded"),n("ab51")),rt=n.n(ct),it=(n("3625"),n("3de5")),ut=n.n(it),lt=(n("7ee1"),n("f440")),st=n.n(lt),dt=function(e){return e.use(ke.a).use(we.a).use(Me.a).use(De.a).use(Ie.a).use(Pe.a).use(Re.a).use(Be.a).use(ze.a).use(Fe.a).use(Ge.a).use(We.a).use(Je.a).use(Qe.a).use(et.a).use(nt.a).use(at.a).use(rt.a).use(ut.a).use(st.a)};function ft(e){return e.component("FormUploader",Object(Ne["x"])((function(){return n.e("chunk-cb67947a").then(n.bind(null,"7653"))}))),e.component("SwipeEdit",Object(Ne["x"])((function(){return n.e("chunk-055d3180").then(n.bind(null,"475b"))}))),e.component("CustomerSwitch",Object(Ne["x"])((function(){return n.e("chunk-b64650fe").then(n.bind(null,"8255"))}))),e.component("IconSelect",Object(Ne["x"])((function(){return n.e("chunk-4aacdc51").then(n.bind(null,"e7ac"))}))),e}var pt=n("c33a"),bt=(n("0dd1"),n("3db4"),n("257b"),Object(o["createApp"])(r));ft(bt),Object(pt["installCustomComponent"])(bt),dt(bt).use(d["a"],d["b"]).use(Ce).mount("#app")},d257:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return r}));var o=n("53ca");function a(e){if("object"===Object(o["a"])(e)){var t=Array.isArray(e)?[]:{};for(var n in e)"object"===Object(o["a"])(e[n])?t[n]=a(e[n]):t[n]=e[n];return t}return e}function c(e){return document.querySelector(e)}function r(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}},e31b:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var o=n("5530"),a=(n("159b"),n("b64b"),n("caad"),n("2532"),n("ecde")),c={left:"x 坐标",top:"y 坐标",height:"高",width:"宽",color:"颜色",backgroundColor:"背景色",borderStyle:"边框风格",borderWidth:"边框宽度",borderColor:"边框颜色",borderRadius:"边框半径",fontSize:"字体大小",fontWeight:"字体粗细",lineHeight:"行高",letterSpacing:"字间距",opacity:"透明度",textAlign:"左右对齐",verticalAlign:"上下对齐"},r=[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}],i=[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"}],u=[{label:"上对齐",value:"top"},{label:"居中对齐",value:"middle"},{label:"下对齐",value:"bottom"}],l=["textAlign","borderStyle","verticalAlign"],s={textAlignOptions:r,borderStyleOptions:i,verticalAlignOptions:u};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=["fontSize","width","height","top","left","borderWidth","letterSpacing","borderRadius"],o={};return Object.keys(e).forEach((function(a){t.includes(a)||("rotate"!==a?(o[a]=e[a],n.includes(a)&&(o[a]+="px")):o.transform=a+"("+e[a]+"deg)")})),o}function f(e){if(e=Object(o["a"])({},e),0!==e.rotate){var t=e.width*Object(a["c"])(e.rotate)+e.height*Object(a["f"])(e.rotate),n=(e.width-t)/2;e.left+=n,e.right=e.left+t;var c=e.height*Object(a["c"])(e.rotate)+e.width*Object(a["f"])(e.rotate),r=(c-e.height)/2;e.top-=r,e.bottom=e.top+c,e.width=t,e.height=c}else e.bottom=e.top+e.height,e.right=e.left+e.width;return e}function p(e,t){var n=["CustomerIcon","Picture"].includes(t.component),o=t.actions||[],a=[];o&&o.length&&o.forEach((function(e){a.push({type:e.component||"input",title:e.label,value:void 0!==e.value?e.value:t.propValue,field:e.field,changeType:e.changeType,options:e.options||[],props:e.props||{}})}));var r=/color/gi,i=Object.keys(c);for(var u in e){var d=u;if(i.includes(d)){var f=e[d];if(r.test(d))a.push({type:"colorPicker",title:c[d],value:f,field:d});else if(l.includes(d)){var p=[];p="textAlign"===d?s.textAlignOptions:"borderStyle"===d?s.borderStyleOptions:s.verticalAlignOptions,a.push({type:"select",title:c[d],value:f,field:d,props:{multiple:!1},options:p})}else if("number"===typeof f){var b=1,h=1/0,v=-1/0;["opacity","lineHeight"].includes(u)&&(b=.1,v=0),"opacity"===u&&(h=1),a.push({type:"inputNumber",title:c[d],value:f,field:d,props:{step:b,min:v,max:h}})}else a.push({type:"input",title:c[d],value:f,field:d,props:{type:"text"}})}}return n&&a.push({type:"uploader",title:"上传图片",value:"",field:"src",props:{showFileList:!1}}),a}},ecde:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return s}));n("d3b7"),n("25f0");var o=n("0613");function a(e){return e*Math.PI/180}function c(e,t,n){return{x:(e.x-t.x)*Math.cos(a(n))-(e.y-t.y)*Math.sin(a(n))+t.x,y:(e.x-t.x)*Math.sin(a(n))+(e.y-t.y)*Math.cos(a(n))+t.y}}function r(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}}function i(e){return Math.abs(Math.sin(a(e)))}function u(e){return Math.abs(Math.cos(a(e)))}function l(e){return(e+360)%360}function s(e){var t=Object(o["c"])();return e*parseInt(t.state.canvas.canvasStyleData.scale.toString())/100}}});